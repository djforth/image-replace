(function(){define(["require","underscore"],function(e){var t,n;return n=e("underscore"),t=function(){function e(e,t){t==null&&(t=!0)}return e.prototype.elements=[],e.prototype.createElement=function(e,t){var n,r,i,s;t==null&&(t={}),n=document.createElement(e);for(r in t)s=t[r],t.hasOwnProperty(r)&&(r==="textNode"?(i=document.createTextNode(s),n.appendChild(i)):n[r]=s);return n},e.prototype.addMultipleElements=function(e,t){var r,i,s,o,u,a;if(n.isArray(e)){s=[];for(o=u=0,a=e.length;u<a;o=++u){i=e[o];if(!n.isObject(i))return null;r=this.addSingleElement(i,t),s.push(r),this.elements.push(r)}return s}return null},e.prototype.addSingleElement=function(e,t){var r,i,s,o;return n.isObject(e)?(n.has(e,"el")&&(i=e.el),n.has(e,"opt")&&(o=e.opt),n.isUndefined(i)||(r=this.createElement(i,o)),n.has(e,"nested")&&(n.isArray(e.nested)?s=this.addMultipleElements(e.nested,r):n.isObject(e.nested)&&(s=this.addSingleElement(e.nested,r))),n.isUndefined(t)||(t.appendChild(r),this.elements.push({el:r,nested:s})),r):null},e.prototype.removeElement=function(e){return e.parentNode.removeChild(e)},e}()})}).call(this);